TYPE=VIEW
query=select cast(`fp`.`Start` as date) AS `Date_Jour`,sum(case when `fp`.`Error` > 0 then timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`) else 0 end) AS `Temps_Panne_Secondes`,sum(timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`)) AS `Temps_Ouverture_Total_Secondes`,round(sum(case when `fp`.`Error` > 0 then timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`) else 0 end) / sum(timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`)) * 100,2) AS `Taux_Arret_Panne_Pourcentage` from `mes4`.`tblfinorderpos` `fp` where `fp`.`Start` is not null and `fp`.`End` is not null group by cast(`fp`.`Start` as date) order by cast(`fp`.`Start` as date) desc
md5=c294f55ad42c77bb2670cf9f694975ff
updatable=0
algorithm=0
definer_user=root
definer_host=localhost
suid=2
with_check_option=0
timestamp=0001771921445828430
create-version=2
source=SELECT \n    \n    DATE(fp.Start) AS Date_Jour,\n    \n    \n    \n    SUM(CASE \n        WHEN fp.Error > 0 THEN TIMESTAMPDIFF(SECOND, fp.Start, fp.End) \n        ELSE 0 \n    END) AS Temps_Panne_Secondes,\n    \n    \n    \n    SUM(TIMESTAMPDIFF(SECOND, fp.Start, fp.End)) AS Temps_Ouverture_Total_Secondes,\n    \n    \n    \n    ROUND(\n        (\n            SUM(CASE WHEN fp.Error > 0 THEN TIMESTAMPDIFF(SECOND, fp.Start, fp.End) ELSE 0 END) \n            / \n            SUM(TIMESTAMPDIFF(SECOND, fp.Start, fp.End))\n        ) * 100\n    , 2) AS Taux_Arret_Panne_Pourcentage\n\nFROM \n    `mes4`.`tblfinorderpos` fp\nWHERE \n    fp.Start IS NOT NULL AND fp.End IS NOT NULL\nGROUP BY \n    DATE(fp.Start) \nORDER BY \n    Date_Jour DESC
client_cs_name=utf8mb3
connection_cl_name=utf8mb3_general_ci
view_body_utf8=select cast(`fp`.`Start` as date) AS `Date_Jour`,sum(case when `fp`.`Error` > 0 then timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`) else 0 end) AS `Temps_Panne_Secondes`,sum(timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`)) AS `Temps_Ouverture_Total_Secondes`,round(sum(case when `fp`.`Error` > 0 then timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`) else 0 end) / sum(timestampdiff(SECOND,`fp`.`Start`,`fp`.`End`)) * 100,2) AS `Taux_Arret_Panne_Pourcentage` from `mes4`.`tblfinorderpos` `fp` where `fp`.`Start` is not null and `fp`.`End` is not null group by cast(`fp`.`Start` as date) order by cast(`fp`.`Start` as date) desc
mariadb-version=101116
